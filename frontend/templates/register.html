{% extends "layouts/auth.html" %}

{% block page_title %}Sign Up{% endblock %}

{% block body_class %}layout-auth page-auth page-register{% endblock %}

{% block auth_title %}Create your account{% endblock %}
{% block auth_subtitle %}Sign up to start chatting{% endblock %}

{% block auth_info_title %}Join ABDRE Chat{% endblock %}
{% block auth_info_description %}Experience a better way to stay connected with friends, family, and colleagues.{% endblock %}

{% block auth_features %}
    <li>
        <div class="feature-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z" fill="currentColor"/>
            </svg>
        </div>
        <span>Free to use forever</span>
    </li>
    <li>
        <div class="feature-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z" fill="currentColor"/>
            </svg>
        </div>
        <span>No ads or tracking</span>
    </li>
    <li>
        <div class="feature-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z" fill="currentColor"/>
            </svg>
        </div>
        <span>Simple, intuitive interface</span>
    </li>
{% endblock %}

{% block auth_content %}
    <form id="register-form" class="auth-form" method="post" action="/api/auth/register">
        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" name="username" required autocomplete="username">
            <div class="form-hint">Choose a unique username that will identify you to others.</div>
        </div>
        
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required autocomplete="email">
            <div class="form-hint">We'll send a verification link to this address.</div>
        </div>
        
        <div class="form-group">
            <label for="password">Password</label>
            <div class="password-input-wrapper">
                <input type="password" id="password" name="password" required autocomplete="new-password" minlength="8">
                <button type="button" class="password-toggle-btn" aria-label="Toggle password visibility">
                    <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z" fill="currentColor"/>
                    </svg>
                </button>
            </div>
            <div class="password-strength" id="password-strength">
                <div class="strength-meter">
                    <div class="strength-meter-fill" id="strength-meter-fill"></div>
                </div>
                <div class="strength-text" id="strength-text">Password strength</div>
            </div>
            <div class="form-hint">Use at least 8 characters with a mix of letters, numbers, and symbols.</div>
        </div>
        
        <div class="form-group">
            <label for="confirm-password">Confirm Password</label>
            <div class="password-input-wrapper">
                <input type="password" id="confirm-password" name="confirm_password" required autocomplete="new-password">
                <button type="button" class="password-toggle-btn" aria-label="Toggle password visibility">
                    <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z" fill="currentColor"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="form-group">
            <div class="checkbox-wrapper">
                <input type="checkbox" id="terms" name="terms" required>
                <label for="terms">I agree to the <a href="/terms" target="_blank">Terms of Service</a> and <a href="/privacy" target="_blank">Privacy Policy</a>.</label>
            </div>
        </div>
        
        <input type="hidden" name="redirect_to" value="{{ redirect_to or '/my-chats' }}">
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary btn-block">Create Account</button>
        </div>
    </form>
    
    <div class="auth-alt-options">
        <p>Already have an account? <a href="/login{% if redirect_to %}?redirect={{ redirect_to }}{% endif %}">Log in</a></p>
    </div>
{% endblock %}

{% block page_js %}
    <script src="{{ url_for('static', filename='js/enhancers/auth_enhancer.js') }}"></script>
    <script src="{{ url_for('static', filename='js/enhancers/password_strength.js') }}"></script>
{% endblock %} 